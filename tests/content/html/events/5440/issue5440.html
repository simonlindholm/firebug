<!DOCTYPE html>
<html>
    <head>
        <title>Issue 5440: Integrate EventBug into Firebug</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link href="../../../_common/testcase.css" type="text/css" rel="stylesheet"/>
        <script src="jquery-1.5.js"></script>
        <script>jq15 = jQuery.noConflict(true);</script>
        <script src="jquery-1.9.js"></script>
        <script>jq19 = jQuery.noConflict(true);</script>
    </head>
    <body>
        <header>
            <h1><a href="http://code.google.com/p/fbug/issues/detail?id=5440">Issue 5440</a>:
                    Integrate EventBug into Firebug</h1>
        </header>
        <div>
            <div id="test">
                <span id="testspan" onmouseout="this.style.color = 'black';">span</span>
                <div id="testdiv">div</div>
                <code id="testcode">code</code>
            </div>

            <section id="description">
                <h3>Steps to reproduce</h3>
                <ol>
                    <li>Open Firebug</li>
                    <li>Switch to the <em>HTML</em> panel and there to the <em>Style</em> side panel</li>
                    <li>Refresh the page by pressing F5. Make sure mouse cursor is not on the page.</li>
                    <li>Check out the Style panel. It should display some styles.</li>
                </ol>
            </section>
            <footer>Simon Lindholm, simon.lindholm10@gmail.com</footer>
        </div>
<script>
function funA() { alert("a"); }
var funB = alert.bind(window, "b");
var funC = function() { this.style.color = "hotpink"; };

// This mimics what library functions usually look like.
function indirection(where)
{
    return function()
    {
        return where.apply(this, arguments);
    };
}
document.getElementById("testspan").addEventListener("mouseover", indirection(funC), true);

jq19("#test").on("click", "> div", funA);
jq19("#test").on("click", funB);
jq15("#test").live("click", funA);
jq15("#test").bind("click", funB);

document.getElementById("testcode").addEventListener("click", {
    handleEvent: function() { alert("hi"); }
});
document.getElementById("testcode").addEventListener("mousedown", {}); // invalid
document.getElementById("testcode").addEventListener("mouseup", {
    handleEvent: "invalid"
});
</script>
    </body>
</html>
